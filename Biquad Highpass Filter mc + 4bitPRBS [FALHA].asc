Version 4
SHEET 1 3788 2276
WIRE -1776 -1808 -2640 -1808
WIRE -912 -1808 -1696 -1808
WIRE -2192 -1760 -2368 -1760
WIRE -992 -1680 -1056 -1680
WIRE -2192 -1664 -2192 -1680
WIRE -1456 -1664 -1568 -1664
WIRE -992 -1648 -992 -1680
WIRE -1456 -1632 -1456 -1664
WIRE -2640 -1552 -2640 -1808
WIRE -2448 -1552 -2640 -1552
WIRE -2096 -1552 -2384 -1552
WIRE -992 -1536 -992 -1568
WIRE -1456 -1520 -1456 -1552
WIRE -2640 -1472 -2640 -1552
WIRE -2352 -1472 -2640 -1472
WIRE -2096 -1472 -2096 -1552
WIRE -2096 -1472 -2272 -1472
WIRE -1088 -1456 -1168 -1456
WIRE -912 -1456 -912 -1808
WIRE -912 -1456 -1008 -1456
WIRE -1584 -1424 -1632 -1424
WIRE -1456 -1424 -1520 -1424
WIRE -2368 -1392 -2368 -1760
WIRE -4640 -1376 -4656 -1376
WIRE -4528 -1376 -4640 -1376
WIRE -4272 -1376 -4272 -1472
WIRE -4272 -1376 -4368 -1376
WIRE -4160 -1376 -4272 -1376
WIRE -3904 -1376 -3904 -1472
WIRE -3904 -1376 -4000 -1376
WIRE -3808 -1376 -3904 -1376
WIRE -3568 -1376 -3568 -1472
WIRE -3568 -1376 -3648 -1376
WIRE -3488 -1376 -3568 -1376
WIRE -3248 -1376 -3248 -1472
WIRE -3248 -1376 -3328 -1376
WIRE -2800 -1376 -2880 -1376
WIRE -2768 -1376 -2800 -1376
WIRE -2640 -1376 -2640 -1472
WIRE -2640 -1376 -2688 -1376
WIRE -2400 -1376 -2640 -1376
WIRE -1568 -1376 -1568 -1664
WIRE -2096 -1360 -2096 -1472
WIRE -2096 -1360 -2336 -1360
WIRE -1936 -1360 -2096 -1360
WIRE -1632 -1360 -1632 -1424
WIRE -1632 -1360 -1856 -1360
WIRE -1600 -1360 -1632 -1360
WIRE -1056 -1360 -1056 -1680
WIRE -2400 -1344 -2592 -1344
WIRE -1456 -1344 -1456 -1424
WIRE -1456 -1344 -1536 -1344
WIRE -1408 -1344 -1456 -1344
WIRE -1168 -1344 -1168 -1456
WIRE -1168 -1344 -1328 -1344
WIRE -1088 -1344 -1168 -1344
WIRE -4528 -1328 -4576 -1328
WIRE -4336 -1328 -4352 -1328
WIRE -4160 -1328 -4256 -1328
WIRE -3808 -1328 -3888 -1328
WIRE -3488 -1328 -3520 -1328
WIRE -1600 -1328 -1632 -1328
WIRE -912 -1328 -912 -1456
WIRE -912 -1328 -1024 -1328
WIRE -1088 -1312 -1104 -1312
WIRE -3568 -1232 -3568 -1376
WIRE -3568 -1232 -3936 -1232
WIRE -2592 -1216 -2592 -1344
WIRE -1632 -1216 -1632 -1328
WIRE -1104 -1184 -1104 -1312
WIRE -2096 -1152 -2096 -1360
WIRE -1840 -1152 -2096 -1152
WIRE -1376 -1152 -1760 -1152
WIRE -1200 -1152 -1376 -1152
WIRE -912 -1152 -912 -1328
WIRE -912 -1152 -1120 -1152
WIRE -4640 -1136 -4640 -1376
WIRE -4128 -1136 -4640 -1136
WIRE -3936 -1136 -3936 -1232
WIRE -3936 -1136 -4064 -1136
WIRE -3248 -1120 -3248 -1376
WIRE -3248 -1120 -4064 -1120
WIRE -2368 -1120 -2368 -1328
WIRE -1568 -1120 -1568 -1312
WIRE -1056 -1120 -1056 -1296
WIRE -4032 -1104 -4064 -1104
WIRE -4032 -1056 -4032 -1104
WIRE -2368 -1024 -2368 -1040
WIRE -1568 -1024 -1568 -1040
WIRE -1056 -1024 -1056 -1040
WIRE -3632 -992 -3632 -1008
WIRE -1200 -992 -1264 -992
WIRE -4624 -976 -4624 -1024
WIRE -1200 -960 -1200 -992
WIRE -4624 -848 -4624 -896
WIRE -3632 -848 -3632 -912
WIRE -1200 -848 -1200 -880
WIRE -2800 -768 -2800 -1376
WIRE -1920 -768 -2800 -768
WIRE -1376 -768 -1376 -1152
WIRE -1376 -768 -1840 -768
WIRE -1296 -768 -1376 -768
WIRE -1120 -768 -1216 -768
WIRE -960 -768 -1120 -768
WIRE -1264 -672 -1264 -992
WIRE -1376 -656 -1376 -768
WIRE -1296 -656 -1376 -656
WIRE -1120 -640 -1120 -768
WIRE -1120 -640 -1232 -640
WIRE -1296 -624 -1360 -624
WIRE -1264 -560 -1264 -608
WIRE -1360 -480 -1360 -624
WIRE -1264 -464 -1264 -480
FLAG -1056 -1024 0
FLAG -2192 -1664 0
FLAG -2880 -1376 Q1
FLAG -1568 -1024 0
FLAG -1456 -1520 0
FLAG -2368 -1024 0
FLAG -992 -1536 0
FLAG -1632 -1216 0
FLAG -1104 -1184 0
FLAG -1456 -1344 VB
FLAG -2096 -1360 VA
FLAG -1264 -464 0
FLAG -1200 -848 0
FLAG -1360 -480 0
FLAG -960 -768 Vout
FLAG -2592 -1216 0
FLAG -3632 -848 0
FLAG -4576 -1328 clock
FLAG -3632 -1008 clock
FLAG -4256 -1328 clock
FLAG -4624 -848 0
FLAG -4624 -1024 input
FLAG -3888 -1328 clock
FLAG -4272 -1472 Q1
FLAG -3904 -1472 Q2
FLAG -3568 -1472 Q3
FLAG -3248 -1472 Q4
FLAG -3520 -1328 clock
FLAG -4032 -1056 input
FLAG -1632 -1360 VC
SYMBOL res -2672 -1392 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 63 68 VTop 2
SYMATTR InstName R3
SYMATTR Value {falhaR3(mc(2.325k,0.125),mc(10.075k,0.125),mc(6.2k,0.01))}
SYMBOL cap -1520 -1440 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -54 34 VTop 2
SYMATTR InstName C2
SYMATTR Value {falhaC2(mc(1.875n,0.125),mc(8.125n,0.125),mc(5n,0.01))}
SYMBOL voltage -1056 -1136 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value -15
SYMBOL voltage -2192 -1776 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL voltage -1568 -1136 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value -15
SYMBOL voltage -1456 -1648 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 15
SYMBOL voltage -2368 -1136 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value -15
SYMBOL voltage -992 -1664 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value 15
SYMBOL Opamps\\LT1001 -2368 -1424 R0
WINDOW 0 16 123 Left 2
SYMATTR InstName U1
SYMBOL res -2256 -1488 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 39 65 VTop 2
SYMATTR InstName R1
SYMATTR Value {falhaR1(mc(2.325k,0.125),mc(10.075k,0.125),mc(6.2k,0.01))}
SYMBOL res -1680 -1824 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 34 53 VTop 2
SYMATTR InstName R2
SYMATTR Value {falhaR2(mc(2.325k,0.125),mc(10.075k,0.125),mc(6.2k,0.01))}
SYMBOL Opamps\\LT1001 -1568 -1408 R0
WINDOW 0 27 34 Left 2
WINDOW 3 22 3 Left 2
SYMATTR InstName U2
SYMBOL res -1840 -1376 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 41 88 VTop 2
SYMATTR InstName R4
SYMATTR Value {falhaR4(mc(0.6k,0.125),mc(2.6k,0.125),mc(1.6k,0.01))}
SYMBOL res -1312 -1360 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 45 58 VTop 2
SYMATTR InstName R5
SYMATTR Value 5.1K
SYMBOL Opamps\\LT1001 -1056 -1392 R0
WINDOW 0 33 30 Left 2
WINDOW 3 33 5 Left 2
SYMATTR InstName U3
SYMBOL cap -2448 -1536 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 85 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value {falhaC1(mc(1.875n,0.125),mc(8.125n,0.125),mc(5n,0.01))}
SYMBOL voltage -1264 -576 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V8
SYMATTR Value -15
SYMBOL voltage -1200 -976 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V9
SYMATTR Value 15
SYMBOL Opamps\\LT1001 -1264 -704 R0
WINDOW 0 33 30 Left 2
WINDOW 3 33 5 Left 2
SYMATTR InstName U4
SYMBOL res -1824 -784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -1744 -1168 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL res -1104 -1168 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res -992 -1472 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 5.1k
SYMBOL res -1200 -784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL voltage -3632 -1008 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName CLOCK1
SYMATTR Value PULSE(0 1 250n 2n 2n 10u 20u)
SYMBOL Digital\\dflop -4448 -1424 R0
WINDOW 3 0 0 Invisible 2
SYMATTR Value td=20n
SYMATTR InstName A1
SYMATTR Value2 Ref=1 Vhigh=10 Vlow=0
SYMBOL Digital\\dflop -4080 -1424 R0
WINDOW 3 0 0 Invisible 2
SYMATTR Value Ref=1 Vhigh=3 Vlow=0
SYMATTR InstName A2
SYMATTR Value2 td=20n
SYMBOL Digital\\xor -4112 -1184 M0
WINDOW 3 14 141 Left 2
WINDOW 123 12 112 Left 2
SYMATTR Value Ref=1
SYMATTR Value2 Vhigh=1 Vlow=0
SYMATTR InstName A3
SYMATTR SpiceLine2 tripdt=5n
SYMATTR SpiceLine Td=5n
SYMBOL Digital\\dflop -3728 -1424 R0
WINDOW 3 0 0 Invisible 2
SYMATTR Value Ref=1 Vhigh=2 Vlow=0
SYMATTR InstName A4
SYMATTR Value2 td=20n
SYMBOL Digital\\dflop -3408 -1424 R0
WINDOW 3 0 0 Invisible 2
SYMATTR Value Ref=1 Vhigh=4 Vlow=0
SYMATTR InstName A5
SYMATTR Value2 td=20n
SYMBOL voltage -4624 -992 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 1 0 1n 1n 250n 5us 1)
TEXT -2808 -240 Left 2 !;ac dec 100 10k 1meg
TEXT -2808 -272 Left 2 !.step param run 1 3900 1
TEXT -2808 -208 Left 2 !.tran 300us
TEXT -2808 -464 Left 2 !.function falhaR1(baixo,alto,mc)  if((run>X)&(run<=2*X), alto,if (run<=X,baixo,mc))
TEXT -2808 -432 Left 2 !.function falhaR2(baixo,alto,mc)  if((run>3*X)&(run<=4*X), alto,if ((run<=3*X)&(run>2*X),baixo,mc))
TEXT -2808 -400 Left 2 !.function falhaR3(baixo,alto,mc)  if((run>5*X)&(run<=6*X), alto,if ((run<=5*X)&(run>4*X),baixo,mc))
TEXT -2808 -304 Left 2 !.function falhaC2(baixo,alto,mc)  if((run>11*X)&(run<=12*X),alto, if((run<=11*X)&(run>10*X),baixo,mc))
TEXT -2808 -336 Left 2 !.function falhaC1(baixo,alto,mc)  if((run>9*X)&(run<=10*X),alto, if((run<=9*X)&(run>8*X),baixo,mc))
TEXT -2808 -496 Left 2 !.param X=300
TEXT -2808 -368 Left 2 !.function falhaR4(baixo,alto,mc)  if((run>7*X)&(run<=8*X), alto,if ((run<=7*X)&(run>6*X),baixo,mc))
TEXT -3872 -784 Left 2 ;Para Ton no clock, o intervalo mínimo de excitação será Ton*2
