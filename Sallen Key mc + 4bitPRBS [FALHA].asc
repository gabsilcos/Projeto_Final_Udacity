Version 4
SHEET 1 5088 1376
WIRE 4464 -240 4096 -240
WIRE 4688 -240 4544 -240
WIRE 4576 -192 4448 -192
WIRE 4448 -160 4448 -192
WIRE 4576 -80 4576 -192
WIRE 1632 -64 1616 -64
WIRE 1744 -64 1632 -64
WIRE 2000 -64 2000 -160
WIRE 2000 -64 1904 -64
WIRE 2112 -64 2000 -64
WIRE 2368 -64 2368 -160
WIRE 2368 -64 2272 -64
WIRE 2464 -64 2368 -64
WIRE 2704 -64 2704 -160
WIRE 2704 -64 2624 -64
WIRE 2784 -64 2704 -64
WIRE 3024 -64 3024 -160
WIRE 3024 -64 2944 -64
WIRE 3936 -64 3856 -64
WIRE 3968 -64 3936 -64
WIRE 4096 -64 4096 -240
WIRE 4096 -64 4048 -64
WIRE 4176 -64 4096 -64
WIRE 4304 -64 4240 -64
WIRE 4544 -64 4304 -64
WIRE 4448 -48 4448 -80
WIRE 4688 -48 4688 -240
WIRE 4688 -48 4608 -48
WIRE 4736 -48 4688 -48
WIRE 4544 -32 4464 -32
WIRE 1744 -16 1696 -16
WIRE 1936 -16 1920 -16
WIRE 2112 -16 2016 -16
WIRE 2464 -16 2384 -16
WIRE 2784 -16 2752 -16
WIRE 4096 16 4096 -64
WIRE 4304 32 4304 -64
WIRE 2704 80 2704 -64
WIRE 2704 80 2336 80
WIRE 4464 80 4464 -32
WIRE 4560 80 4464 80
WIRE 4688 80 4688 -48
WIRE 4688 80 4640 80
WIRE 4464 96 4464 80
WIRE 4576 160 4576 -16
WIRE 1632 176 1632 -64
WIRE 2144 176 1632 176
WIRE 2336 176 2336 80
WIRE 2336 176 2208 176
WIRE 3024 192 3024 -64
WIRE 3024 192 2208 192
WIRE 2240 208 2208 208
WIRE 4304 208 4304 112
WIRE 4464 208 4464 176
WIRE 4096 224 4096 80
WIRE 2240 256 2240 208
WIRE 4576 272 4576 240
WIRE 2640 320 2640 304
WIRE 1648 336 1648 288
WIRE 1648 464 1648 416
WIRE 2640 464 2640 400
FLAG 2640 464 0
FLAG 1696 -16 clock
FLAG 2640 304 clock
FLAG 2016 -16 clock
FLAG 1648 464 0
FLAG 1648 288 input
FLAG 2384 -16 clock
FLAG 2000 -160 Q1
FLAG 2368 -160 Q2
FLAG 2704 -160 Q3
FLAG 3024 -160 Q4
FLAG 2752 -16 clock
FLAG 2240 256 input
FLAG 4688 -48 Vout
FLAG 3936 -64 Vin
FLAG 4304 208 0
FLAG 4464 208 0
FLAG 4448 -48 0
FLAG 4576 272 0
FLAG 3856 -64 Q1
FLAG 4096 224 0
FLAG 4304 -64 V2
FLAG 4096 -64 V1
SYMBOL voltage 2640 304 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName CLOCK1
SYMATTR Value PULSE(0 1 250n 2n 2n 10u 20u)
SYMBOL Digital\\dflop 1824 -112 R0
WINDOW 3 0 0 Invisible 2
SYMATTR Value td=20n
SYMATTR InstName A1
SYMATTR Value2 Ref=1 Vhigh=10 Vlow=0
SYMBOL Digital\\dflop 2192 -112 R0
WINDOW 3 0 0 Invisible 2
SYMATTR Value Ref=1 Vhigh=3 Vlow=0
SYMATTR InstName A2
SYMATTR Value2 td=20n
SYMBOL Digital\\xor 2160 128 M0
WINDOW 3 14 141 Left 2
WINDOW 123 12 112 Left 2
SYMATTR Value Ref=1
SYMATTR Value2 Vhigh=1 Vlow=0
SYMATTR InstName A3
SYMATTR SpiceLine2 tripdt=5n
SYMATTR SpiceLine Td=5n
SYMBOL Digital\\dflop 2544 -112 R0
WINDOW 3 0 0 Invisible 2
SYMATTR Value Ref=1 Vhigh=2 Vlow=0
SYMATTR InstName A4
SYMATTR Value2 td=20n
SYMBOL Digital\\dflop 2864 -112 R0
WINDOW 3 0 0 Invisible 2
SYMATTR Value Ref=1 Vhigh=10 Vlow=0
SYMATTR InstName A5
SYMATTR Value2 td=20n
SYMBOL voltage 1648 320 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 1 0 1n 1n 250n 5us 1)
SYMBOL res 4064 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 37 250 VTop 2
SYMATTR InstName R1
SYMATTR Value {falhaR1(mc(1.9475k,0.125),mc(8.4175k,0.125),mc(5.18k,0.01))}
SYMBOL res 4560 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 28 34 VTop 2
SYMATTR InstName R2
SYMATTR Value {falhaR2(mc(0.375k,0.125),mc(1.625k,0.125),mc(1k,0.01))}
SYMBOL res 4320 128 R180
WINDOW 0 36 76 Left 2
WINDOW 3 16 10 Left 2
SYMATTR InstName R3
SYMATTR Value {falhaR3(mc(0.75k,0.125),mc(3.25k,0.125),mc(2k,0.01))}
SYMBOL res 4480 192 R180
WINDOW 0 36 76 Left 2
WINDOW 3 -36 7 Left 2
SYMATTR InstName R4
SYMATTR Value {mc(4k,0.01)}
SYMBOL cap 4240 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 64 -35 VTop 2
SYMATTR InstName C1
SYMATTR Value {falhaC1(mc(1.875n,0.125),mc(8.125n,0.125),mc(5n,0.01))}
SYMBOL res 4656 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 37 -3 VTop 2
SYMATTR InstName R5
SYMATTR Value {mc(4k,0.01)}
SYMBOL cap 4112 80 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C2
SYMATTR Value {falhaC2(mc(1.875n,0.125),mc(8.125n,0.125),mc(5n,0.01))}
SYMBOL voltage 4448 -176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value -15
SYMBOL voltage 4576 144 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 15
SYMBOL Opamps\\LT1001 4576 16 M180
SYMATTR InstName U1
TEXT 2400 528 Left 2 ;Para Ton no clock, o intervalo mínimo de excitação será Ton*2
TEXT 3656 552 Left 2 !;ac dec 100 10k 1meg
TEXT 3656 520 Left 2 !.step param run 1 3300 1
TEXT 3656 584 Left 2 !.tran 300us
TEXT 3656 360 Left 2 !.function falhaR1(baixo,alto,mc)  if((run>X)&(run<=2*X), alto,if (run<=X,baixo,mc))
TEXT 3656 392 Left 2 !.function falhaR2(baixo,alto,mc)  if((run>3*X)&(run<=4*X), alto,if ((run<=3*X)&(run>2*X),baixo,mc))
TEXT 3656 424 Left 2 !.function falhaR3(baixo,alto,mc)  if((run>5*X)&(run<=6*X), alto,if ((run<=5*X)&(run>4*X),baixo,mc))
TEXT 3656 488 Left 2 !.function falhaC2(curto,aberto,normal)  if((run>9*X)&(run<=10*X),aberto, if((run<=9*X)&(run>8*X),curto,normal))
TEXT 3656 456 Left 2 !.function falhaC1(curto,aberto,normal)  if((run>7*X)&(run<=8*X),aberto, if((run<=7*X)&(run>6*X),curto,normal))
TEXT 3656 328 Left 2 !.param X=300
